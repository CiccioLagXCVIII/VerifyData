<!doctype html>
<html lang="it">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Progetto - Form 2</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
        />
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/certifica.css" />
    </head>
    <body>
        <header
            class="app-header d-flex justify-content-between align-items-center px-4"
        >
            <h5 class="mb-0 text-white">
                <i class="bi bi-layers-half me-2 text-primary"></i>VerifyData
            </h5>
            <!-- Pulsante Accesso a destra -->
            <div id="headerActions" class="d-flex align-items-center gap-2">
                <a
                    href="connessione.html"
                    class="btn btn-outline-primary btn-sm rounded-pill"
                    id="connectWalletBtn"
                >
                    <i class="bi bi-wallet-fill"></i> Connetti Wallet
                </a>
            </div>
        </header>

        <div class="main-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <nav class="nav-links">
                    <a href="index.html" class="nav-link">
                        <i class="bi bi-house-door"></i>
                        <span>Presentazione</span>
                    </a>
                    <a href="profilo.html" class="nav-link">
                        <i class="bi bi-person-vcard"></i>
                        <span>Profilo SSI</span>
                    </a>
                    <a href="certifica.html" class="nav-link active">
                        <i class="bi bi-shield-check"></i>
                        <span>Certifica Documento </span>
                    </a>
                    <a href="verifica.html" class="nav-link">
                        <i class="bi bi-search"></i>
                        <span>Verifica Pubblica</span>
                    </a>
                </nav>

                <div class="sidebar-footer">
                    <a
                        href="https://github.com/CiccioLagXCVIII"
                        target="_blank"
                        class="github-link"
                    >
                        <i class="bi bi-github me-2"></i>
                        <span>GitHub Project</span>
                    </a>
                </div>
            </aside>

            <main class="content-area">
                <!-- Header della Pagina -->
                <div
                    class="d-flex justify-content-between align-items-end mb-4"
                >
                    <div>
                        <h2 class="mb-1 fw-bold text-white">
                            Certificazione Immutabile
                        </h2>
                        <p class="text-muted mb-0">
                            Registra L'Impronta Digitale Del Tuo Documento Sulla
                            Rete Ethereum.
                        </p>
                    </div>

                    <div class="status-indicator rounded-pill">
                        <span class="pulse-dot me-2"></span>
                        <span class="text-white">Identità Verificata</span>
                    </div>
                </div>

                <div class="row g-4">
                    <!-- Colonna Sinistra: Notarizzazione -->
                    <div class="col-lg-8">
                        <div class="custom-card">
                            <form id="notarization-form">
                                <!-- Area Upload -->
                                <div id="drop-zone" class="upload-area mb-4">
                                    <i
                                        class="bi bi-cloud-arrow-up text-primary display-5 mb-2 d-block"
                                    ></i>
                                    <h5 class="text-white">
                                        Trascina il file qui
                                    </h5>
                                    <p class="text-muted small">
                                        Il File Non Lascerà Mai Il Tuo Browser.
                                        Privacy Garantita Al 100%.
                                    </p>
                                    <label
                                        for="file-input"
                                        class="btn btn-outline-primary btn-sm rounded-pill px-4"
                                        >Seleziona File</label
                                    >
                                    <input type="file" id="file-input" hidden />
                                </div>

                                <!-- Risultato Hashing (Appare solo dopo l'upload) -->
                                <div
                                    id="file-info"
                                    class="p-3 rounded bg-dark border border-secondary border-opacity-25 mb-4"
                                    style="display: none"
                                >
                                    <label
                                        class="smallest text-muted text-uppercase fw-bold mb-2 d-block"
                                        >Hash SHA-256 Calcolato</label
                                    >
                                    <div
                                        class="d-flex align-items-center justify-content-between bg-black bg-opacity-40 p-2 rounded"
                                    >
                                        <code
                                            id="file-hash"
                                            class="text-success small"
                                        ></code>
                                        <button
                                            type="button"
                                            id="copy-btn"
                                            class="btn btn-link text-muted p-0 ms-2"
                                        >
                                            <i class="bi bi-copy"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Pulsante Azione -->
                                <div class="cta-container text-center">
                                    <button
                                        type="submit"
                                        class="btn cta-button btn-lg px-5 text-white w-100"
                                    >
                                        NOTARIZZA DOCUMENTO
                                    </button>
                                    <div
                                        class="d-flex justify-content-center align-items-center mt-3 text-muted smallest"
                                    >
                                        <i class="bi bi-info-circle me-2"></i>
                                        <span
                                            >L'Operazione Richiede Una Conferma
                                            Su MetaMask</span
                                        >
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Colonna Destra: Riepilogo Dettagliato -->
                    <div class="col-lg-4">
                        <div class="custom-card">
                            <h6
                                class="text-primary text-uppercase fw-bold smallest mb-4"
                            >
                                Dettagli Certificazione
                            </h6>

                            <div class="summary-list">
                                <div class="summary-item">
                                    <span class="summary-label"
                                        >Documento:
                                    </span>
                                    <span id="file-name" class="summary-value"
                                        >---</span
                                    >
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label"
                                        >Dimensione:
                                    </span>
                                    <span id="file-size" class="summary-value"
                                        >---</span
                                    >
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Network: </span>
                                    <span class="summary-value">---</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label"
                                        >Costo Gas:
                                    </span>
                                    <span class="summary-value text-success"
                                        >---</span
                                    >
                                </div>
                            </div>

                            <!-- FARE IN MODO CHE SI VEDA SOLO QUANDO HA IL BADGE ALTRIMENTI SI VEDE DEVI RICHIEDERE BADGE -->
                            <div
                                class="mt-4 p-3 rounded bg-primary bg-opacity-10 border border-primary border-opacity-20"
                            >
                                <p class="smallest text-primary mb-0">
                                    <i class="bi bi-shield-check me-1"></i>
                                    Certificato Collegato Al Tuo SBT Identity
                                    Badge.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <div id="copy-toast" class="copy-toast">
            <i class="bi bi-check-circle me-2"></i> Hash Copiato!
        </div>

        <script type="module" src="js/app.js"></script>
    </body>
</html>
